<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="application/json; charset=UTF-8"/>
  <title>Permissions Manager</title>
</head>
<body>
<div name="body">
  <h1>Permissions Manager</h1>
  {% if request.query_arguments.get('message') %}<h4>{{ request.arguments.get('message')[0] }}</h4>{% end %}
  <form action="/api/admin" method="post" enctype='application/x-www-form-urlencoded'>

    <table border="2">

      <tr>
      <th></th>
      {% for role_name in role_names %}
      <th>
        {{role_name}}
      </th>
      {% end %}
      </tr>

      {% for res_meth in res_methods %}
      <tr>
        <td>{{ res_meth }}</td>
        {% for role_name in role_names %}
        <td>
          <select name="{{ role_name + ' ' + res_meth }}">
            {% for mod in get_act_mods(res_meth, handler.sess) %}
            <option value='{{ mod }}' {% if mod == get_mod(role_name, res_meth, handler.sess) %}selected{% end %}>{{ mod }}</option>
            {% end %}
          </select>
          </p>
          {% end %}
        </td>
        {% end %}
      </tr>

    </table>
    <input type="submit"  value="Submit" style="font-weight:bold; font-size:16px">

  </form>
</div>
</body>
</html>
